function init(r){callback=r.callback,initData(),draw()}function end(){move(HEIGHT),isLoad=!1,initData(),draw()}function load(){console.log("load!!!"),clear(),renderText("Loading..."),isLoad=!0,move(0),callback()}function initData(){canvasTrm=HEIGHT,topOffSet=bottomOffSet=15,r1=r2=WIDTH/15,arc1=[WIDTH/2,HEIGHT-bottomOffSet],arc2=[WIDTH/2,HEIGHT-bottomOffSet],arr1=[arc2[0]-r2/2,arc2[1]],arr2=[WIDTH/2,arc2[1]],arr3=[arc1[0]-r1/2,arc1[1]],arr4=[arc2[0]+r2/2,arc2[1]],arr5=arr2,arr6=[arc1[0]+r1/2,arc1[1]]}function drawArc(){context.beginPath(),context.arc(arc1[0],arc1[1],r1/2,0,2*Math.PI),context.strokeStyle=drawStyle,context.fillStyle=drawStyle,context.fill(),context.beginPath(),context.arc(arc2[0],arc2[1],r2/2,0,2*Math.PI),context.strokeStyle=drawStyle,context.fill()}function drawBezier(){context.beginPath(),context.moveTo(arr1[0],arr1[1]),context.quadraticCurveTo(arr2[0],arr2[1],arr3[0],arr3[1]),context.lineTo(arr6[0],arr6[1]),context.quadraticCurveTo(arr5[0],arr5[1],arr4[0],arr4[1]),context.lineTo(arr1[0],arr1[1]),context.strokeStyle=drawStyle,context.fillStyle=drawStyle,context.fill()}function renderText(r){context.font="12px",context.textAlign="center",context.fillText(r,WIDTH/2,HEIGHT/2)}function draw(){clear(),drawArc(),drawBezier()}function clear(){context.clearRect(0,0,WIDTH,HEIGHT)}function loop(r){console.log(r),arc1=[arc1[0],arc1[1]-r],arr1=[arc2[0]-r2/2,arc2[1]],arr3=[arc1[0]-r1/2,arc1[1]],arr4=[arc2[0]+r2/2,arc2[1]],arr5=[WIDTH/2,(arc2[1]-arc1[1])/2+arc1[1]],arr6=[arc1[0]+r1/2,arc1[1]],arr2=arr5,draw()}function move(r){r>100||r<0||(body.style.transform="translate(0,-"+r+"px)")}Object.defineProperty(exports,"__esModule",{value:!0});var WIDTH=window.innerWidth,HEIGHT=100,drawStyle="#b1b1b1",canvasTrm,topOffSet,bottomOffSet,r1,r2,arc1,arc2,arr1,arr2,arr3,arr4,arr5,arr6,y,y1,disY,isLoad=!1,callback,canvas=document.createElement("canvas"),body=document.body;canvas.width=WIDTH,canvas.height=HEIGHT,canvas.style.borderBottom="1px solid #ccc",body.style.transform="translate(0,-"+HEIGHT+"px)",body.insertBefore(canvas,body.firstChild);var context=canvas.getContext("2d");document.addEventListener("touchstart",function(r){isLoad||(y=r.pageY||r.touches[0].pageY)},!1),document.addEventListener("touchmove",function(r){if(!isLoad){if(y1=r.pageY||r.touches[0].pageY,disY=y1-y>0?1:-1,y=y1,canvasTrm-=disY,move(canvasTrm),canvasTrm<10)return void load();arc1[1]<=topOffSet||arc1[1]>HEIGHT-bottomOffSet||canvasTrm>70||(r2-=disY/5,r1-=disY/8,loop(disY))}},!1),document.addEventListener("touchend",function(r){isLoad||(move(HEIGHT),initData(),draw())}),exports.init=init,exports.end=end;
//# sourceMappingURL=pullDownRefresh.cjs.js.map
